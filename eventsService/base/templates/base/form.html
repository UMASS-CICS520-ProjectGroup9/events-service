{% load static %}
<section class="event-form-section">
  <h3>Create Event</h3>

  <!-- Include HTMX from CDN -->
  <script src="https://unpkg.com/htmx.org@1.9.6"></script>
  
  <form id="event-form" hx-post="{% url 'base:event_form' %}" hx-target="#form-result" hx-swap="outerHTML">
    {% csrf_token %}
    
    <div class="field">
      <label for="title">Title</label>
      <input type="text" id="title" name="title" required maxlength="200" 
             hx-validate="true" />
    </div>

    <div class="field">
      <label for="description">Description</label>
      <textarea id="description" name="description" rows="4" required></textarea>
    </div>

    <div class="field">
      <label for="creator">Creator</label>
      <input type="text" id="creator" name="creator" required maxlength="100" />
    </div>

    <div class="field">
      <label for="eventType">Event Type</label>
      <input type="text" id="eventType" name="eventType" maxlength="50" />
    </div>

    <div class="field">
      <label for="location">Location</label>
      <input type="text" id="location" name="location" maxlength="200" />
    </div>

    <div class="field">
      <label for="capacity">Capacity</label>
      <input type="number" id="capacity" name="capacity" min="0" required />
    </div>

    <div class="field">
      <label for="link">Link (optional)</label>
      <input type="url" id="link" name="link" />
    </div>

    <div class="field">
      <label for="zoom_link">Zoom link (optional)</label>
      <input type="url" id="zoom_link" name="zoom_link" />
    </div>

    <div class="field">
      <label for="hosted_by">Hosted by</label>
      <input type="text" id="hosted_by" name="hosted_by" maxlength="100" required />
    </div>

    <div class="field">
      <label for="registered_students">Registered students (comma-separated IDs)</label>
      <input type="text" id="registered_students" name="registered_students" 
             placeholder="1001,1002,s1003" />
    </div>

    <div class="field">
      <label for="event_start_date">Start date/time</label>
      <input type="datetime-local" id="event_start_date" name="event_start_date" required />
    </div>

    <div class="field">
      <label for="event_end_date">End date/time</label>
      <input type="datetime-local" id="event_end_date" name="event_end_date" required />
    </div>

    <div class="actions">
      <button type="submit" class="button">Create Event</button>
      <button type="reset" class="button small">Reset</button>
    </div>
  </form>

  <!-- Target for form submission results -->
  <div id="form-result"></div>

  <style>
    .event-form-section {
      max-width: 600px;
      margin: 0 auto;
    }
    .field {
      margin-bottom: 1rem;
    }
    .field label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: bold;
    }
    .field input,
    .field textarea {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    .actions {
      margin-top: 1.5rem;
    }
    .actions button {
      margin-right: 0.5rem;
    }
    #form-result {
      margin-top: 1.5rem;
      padding: 1rem;
      border-radius: 4px;
    }
    #form-result.success {
      background-color: #e8f5e9;
      border: 1px solid #4caf50;
    }
    #form-result.error {
      background-color: #ffebee;
      border: 1px solid #ef5350;
    }
  </style>
</section>
